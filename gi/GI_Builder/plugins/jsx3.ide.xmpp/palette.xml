<!--
  ~ Copyright (c) 2001-2009, TIBCO Software Inc.
  ~ Use, modification, and distribution subject to terms of license.
  -->
<serialization xmlns="urn:tibco.com/v3.0">
  <onAfterDeserialize><![CDATA[
objJSX.onPaletteLoaded = function() {
  var plugIn = this.getPlugIn();

  var barMgr = new jsx3.amp.util.ToolbarManager(jsx_ide_xmpp_bar);
  barMgr.addSection("text");
  barMgr.addSection("actions", true);
  this.getPlugIn().getExtPoint("toolbar").processExts().each(function(e) { barMgr.addItem(e); });

  var mm = new jsx3.amp.util.MenuManager();
  mm.addMenuBar("/", menuBar);
  plugIn.getExtPoint("ctxmenu").processExts().each(function(e) { mm.addMenu(e); });
  plugIn.getExtPoint("ctxmenu-item").processExts().each(function(e) { mm.addItem(e); });
  mm.finishInit();

  var credentials = plugIn.getCredentials();

  if (credentials.server && credentials.username && credentials.password) {
    jsx3.require("jsx3.util.Dojo");
    plugIn.connectSession(credentials);
  } else {
    plugIn.setUIState(0);
  }
}
objJSX.getXMPPTree = function() {
  return jsxxmpptree;
};
  ]]></onAfterDeserialize>
  <object type="jsx3.gui.Block">
    <strings jsxname="xmpppalette" jsxheight="100%" jsxwidth="100%"/>
    <dynamics jsxbgcolor="@Solid Light"/>
    <variants jsxleft="0" jsxtop="0" jsxoverflow="2" />
    <object type="jsx3.gui.Block">
      <strings jsxname="xmpp_conf_block" jsxdisplay="none" jsxheight="100%" jsxwidth="100%" />
      <object type="jsx3.gui.Button">
        <strings jsxheight="100%" jsxwidth="100%" jsxtext="Configure"/>
        <events jsxexecute="jsx3.ide.doOpenSettings(4);" />
      </object>
    </object>
    <object type="jsx3.gui.Block">
      <strings jsxname="xmpp_list_block" jsxdisplay="none" jsxwidth="100%" jsxheight="100%" />
      <object type="jsx3.gui.Block">
        <strings jsxname="menuBar" jsxdisplay="none"/>
      </object>
      <object type="jsx3.gui.LayoutGrid">
        <variants jsxrelativeposition="0" jsxoverflow="2" />
        <strings jsxname="jsx_ide_cache_layout" jsxrows="26,*" jsxwidth="100%" jsxheight="100%"/>
        <object type="jsx3.gui.WindowBar">
          <dynamics jsxbgcolor="@Solid Medium" jsxborder="@Outset"/>
          <variants jsxfontsize="10" jsxbartype="2" jsxoverflow="3" jsxrelativeposition="1" />
          <strings jsxname="jsx_ide_xmpp_bar" />
        </object>
        <object type="jsx3.gui.Block">
          <dynamics jsxborder="@Outset"/>
          <variants jsxleft="0" jsxtop="0" jsxoverflow="1" />
          <strings jsxwidth="100%" jsxheight="100%" />
          <object type="jsx3.gui.Tree">
            <variants jsxuseroot="0" jsxheaderheight="0" jsxjsxxmlasync="1" jsxdrag="0" jsxdrop="0" jsxmultiselect="0" jsxreorder="0"/>
            <strings jsxname="jsxxmpptree" jsxpagingmodel="4" jsxmenu="jsx3.ide.xmppctx" />
            <dynamics jsxbgcolor="@Solid Light"/>
            <events jsxexecute="xmpppalette.getPlugIn().doStartChat(strRECORDIDS);" />
            <xslparameters jsxsortpath="jsxsort" />
            <object type="jsx3.gui.Matrix.Column">
              <strings jsxname="jsxxmpptreecol1" jsxwidth="*" jsxcellpadding="2" jsxpath="jsxtext"/>
              <dynamics jsxborder="@Outset" jsxbg="@Bevel TopDown" jsxbgcolor="@Solid Disabled"/>
            </object>
          </object>
        </object>
      </object>
    </object>
  </object>
</serialization>
